# WordPress安装及使用

### 1. 创建mysql数据库
---

Ubuntu 云服务器中已经安装了 Nginx 和 PHP，您可以按照以下步骤来安装和配置 WordPress：

- **创建数据库**

首先，登录到 MySQL 数据库并创建一个新的数据库以供 WordPress 使用：

```
mysql -u root -p
```

然后在 MySQL 命令行中执行以下命令：

```
CREATE DATABASE wordpressdb;
CREATE USER 'wordpressuser'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON wordpressdb.* TO 'wordpressuser'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```


### 2. 下载并配置 WordPress
---

进入您的网站根目录，如 /home/01_html，该根目录后续需要在nginx.conf的server部分指定

```
cd /home/01_html
```

然后下载并解压 WordPress 安装包：

```
sudo wget https://wordpress.org/latest.tar.gz

sudo tar -xzvf latest.tar.gz
```

将解压后的 WordPress 目录重命名为您想要的域名或网站名称，例如：

```
sudo mv wordpress yourdomain.com
```

然后将所有权和组权限设置为 Nginx 用户（通常是 www-data）：

```
sudo chown -R www-data:www-data /home/01_html/yourdomain.com
```

### 3. 配置 Nginx
---

编辑nginx.conf文件，添加如下部分，注意使用了子域名blog.domain.com，结合实际情况修改根目录

```
server {
    listen 443 ssl;
    listen [::]:443 ssl;
    server_name blog.domain.com www.blog.domain.com; # 替换为您的域名
    ssl_certificate /etc/nginx/key_crt/domain.com.crt; # 替换为您下载的证书文件路径
    ssl_certificate_key /etc/nginx/key_crt/domain.com.key; # 替换为您下载的密钥文件路径
    ssl_protocols TLSv1.2 TLSv1.3; # 选择您需要支持的 SSL/TLS 协议版本
    root /home/01_html/20_wordpress/blog.domain.com/;
    index index.php index.html index.htm;


    location / {
        try_files $uri $uri/ /index.php?$args;
    }

    location ~ \.php$ {
        fastcgi_pass unix:/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
        include snippets/fastcgi-php.conf;
    }

    location ~ /\.ht {
        deny all;
    }

}
```












