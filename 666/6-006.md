# multiwfn电子结构分析

# 1. molden文件修改

### 1. 添加 cell 信息

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-135843.png" alt="Image Description" width="700">
</p>


### 2. 添加价层电子数

- 元素价层电子数参考 https://github.com/Yiwei666/cp2k/blob/master/data/BASIS_MOLOPT

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-140215.png" alt="Image Description" width="700">
</p>


### 3. 赝势

- 价层电子与价电子

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-142958.png" alt="Image Description" width="700">
</p>

- 以Rh为例，赝势简化后剩余价电子数

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-143150.png" alt="Image Description" width="700">
</p>


# 2. ELF投影图绘制

### 1. 操作步骤

1. 获取不同原子对的键级数据
2. 将用于电子结构计算的xyz文件导入到vesta中，通过设置原子对截断半径对特定原子对成键进行可视化

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-203636.png" alt="Image Description" width="700">
</p>

3. 结合键级数据和可视化，确定三个原子序号，用于multiwfn分析
4. 导出ELF的png图片，注意坐标轴单位是埃

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20240623-203938.png" alt="Image Description" width="450">
</p>


# 3. Mayer键级计算

### 1. Multiwfn键级分析界面

**9 Bond order analysis**

```
9  （9 --> 1）

            ================ Bond order analysis ===============
 -1 Define fragment 1 and 2 for options 1,3,4,7,8,10 (to be defined)
 0 Return
 1 Mayer bond order analysis
 2 Multicenter bond order analysis
 -2 Multicenter bond order analysis in NAO basis
 3 Wiberg bond order analysis in Lowdin orthogonalized basis
 4 Mulliken bond order (Mulliken overlap population) analysis
 5 Decompose Mulliken bond order between two atoms to orbital contributions
 6 Orbital occupancy-perturbed Mayer bond order
 7 Fuzzy bond order analysis (FBO)
 8 Laplacian bond order (LBO)
 9 Decompose Wiberg bond order in NAO basis as atomic orbital pair contribution
 10 Intrinsic bond strength index (IBSI)
 11 AV1245 index (approximate multicenter bond order for large rings) and AVmin

```


### 2. Mayer键级分析脚本

`01_Mayer键级分析脚本.txt` 脚本内容如下，在cmd命令行中需要指出 `.molden` 文件的绝对路径

```
//  cmd 命令行：Multiwfn C:\Users\sun78\Desktop\cp2k_model\56_SiTiB-E\410-OT-200atoms\modify-SiTiB410-MOS-1_0.molden < 01_Mayer键级分析脚本.txt > 键级分析_out.txt
9 // Bond order analysis 
1 // Mayer bond order analysis
y // If outputting bond order matrix to bndmat.txt in current folder? (y/n)
0 // Return
q // "q": Exit program gracefully
```

- 运行脚本方法：打开cmd命令行窗口，执行 `Multiwfn C:\Users\sun78\Desktop\cp2k_model\56_SiTiB-E\410-OT-200atoms\modify-SiTiB410-MOS-1_0.molden < 01_Mayer键级分析脚本.txt > 键级分析_out.txt` 命令即可，在脚本中 `//` 代表注释

- 运行脚本得到：`bndmat.txt`存储了键级信息，`键级分析_out.txt` 存储了终端输出日志信息






# 参考资料

1. http://sobereva.com/multiwfn/misc/Multiwfn_3.8_dev.pdf
