# V2Ray+ws+tls+web 配置教程

1. 云服务器购买
2. ubuntu中nginx安装和环境配置
3. cloudflare域名解析
4. ubuntu中v2ray安装和配置
5. ubuntu中warp安装和配置
6. windows中v2ray的安装和配置

# 1. 云服务器购买

可选的海外云服务器厂商包括digitalocean，aws，azure等，配置最低要求为1核1G，内存大于30G，系统推荐使用ubuntu系统。服务器所在地可选日本东京，新家坡，美国东部和西部。

# 2. nginx安装和环境配置

1. nignx安装参考：https://github.com/Yiwei666/10_private_code/blob/main/01_config/README.md

- ubuntu系统中nginx的安装
```shell
sudo apt update              # 1. 打开终端，使用sudo命令以管理员权限运行以下命令，更新软件包列表
 
sudo apt install nginx       # 2. 安装Nginx
 
                             # 3. 安装过程中，系统会要求你确认安装。按下Y键并按回车键继续安装。
 
sudo systemctl status nginx  # 4. 安装完成后，Nginx将自动启动。你可以使用以下命令检查Nginx的状态

sudo systemctl enable nginx  # 5. 设置开机自启动
```

2. nginx 环境配置参考：https://github.com/Yiwei666/10_private_code/blob/main/01_config/nginx_ubuntu.conf

```
    server {
        listen 443 ssl;
        server_name icha.one;                                   # 替换为您的域名
        ssl_certificate /etc/nginx/key_crt/icha.one.crt;        # 替换为您下载的证书文件路径
        ssl_certificate_key /etc/nginx/key_crt/icha.one.key;    # 替换为您下载的密钥文件路径
        ssl_protocols TLSv1.2 TLSv1.3;                          # 选择您需要支持的 SSL/TLS 协议版本


        location / {
            root /home/01_html;       # 指定的服务器根目录，注意不要选择root目录，一般用home目录
            index mainpage.html;      # 访问ip默认显示的网页，该网页需要置于上述根目录下
        }

        location /home/01_html {       #/ray 路径需要和v2ray服务器端，客户端保持一致
            proxy_redirect off;
            proxy_pass http://127.0.0.1:10087; #此IP地址和端口需要和v2ray服务器保持一致，
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $http_host;
        }
    }	
```



```shell
curl -o /home/01_html/mainpage.html  https://02-html.vercel.app/
```

# 3. cloudflare域名解析

1. cloudflare域名解析参考：https://blog.csdn.net/qq_45659165/article/details/129486643


# 4. ubuntu中v2ray安装和配置
